#!/bin/bash

number=$@

if [ ${#number} -eq 1 ]
  then filename=euler_00$@
  else filename=euler_0$@
fi

extra=""
if [ $@ -eq 10 ]
  then extra=src/euler_007.lhs
fi
if [ $@ -eq 12 ]
  then extra="src/euler_003.lhs src/euler_007.lhs"
fi

awk 'FNR==1{print ""}{print}' \
  src/preamble.lhs $extra src/$filename.lhs > pkg/$filename.lhs
echo "" >> pkg/$filename.lhs
echo "> main = runTestTT $ TestList ( tests$@ )" >> pkg/$filename.lhs

ghc --make pkg/$filename.lhs
pkg/$filename
